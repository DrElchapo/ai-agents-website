# План разработки: Лидоген-агент для e-commerce (международные рынки)

## 1) Цели и ограничения
- **Цель**: Стабильный поток лидов (Shopify, WooCommerce, Etsy, Amazon/eBay продавцы, DTC-бренды, e-com агентства).
- **Бюджет**: до $50/мес (сервер + минимальные API).
- **Подход**: только открытые источники, уважение ToS, персонализированный e-mail аутрич, без авто-DM в соцсетях.
- **Оплата**: приоритет — USDT/крипта; опционально платеж через фриланс-платформы.

## 2) Каналы и источники лидов
- Product Hunt: новые лаунчи e-commerce инструментов и сервисов.
- Indie Hackers: темы «Looking for help», «Milestones», «Build in public».
- Reddit: r/ecommerce, r/Entrepreneur, r/shopify, r/BigSEO.
- GitHub: топики `shopify`, `woocommerce`, `etsy`, `amazon-mws`, `erp` с ссылками на проекты и сайты.
- Каталоги: OpenStartups, MakerStations, различные startup directories.
- Комьюнити продавцов (Telegram/Discord): только контент и входящие, без спама в личку.

## 3) ICP и ценностное предложение
- ICP #1: Владелец Shopify/Woo (команда 1–20 чел.)
  - Боли: ручная загрузка/синхронизация каталога, прайс-мониторинг, отчеты, сегментации.
  - Value: экономия 10–30 часов/нед, меньше ошибок, прозрачные метрики.
- ICP #2: E-com агентства (performance/ops)
  - Боли: сбор отчетов для 10+ клиентов, агрегация из разных источников, дедлайны.
  - Value: автоматизация рутины и отчетности, SLA, масштабируемость.

## 4) MVP-агенты (решения под боли)
- Агент мониторинга цен конкурентов: парсинг сайтов/Google Shopping, алерты при отклонениях.
- Агент загрузки/синхронизации каталога: CSV → Shopify/Woo API, обновление цен/остатков.
- Агент аналитики: сбор метрик (GA4 экспорты, Shopify reports CSV, ручные выгрузки из Ads), сводные отчеты и алерты.
- Агент обработки заказов: статусы, напоминания, пост-продажные письма через SMTP/ESP клиента.

## 5) Пайплайн лидогенерации (высокоуровнево)
Parser → Extractor → Deduper → Enricher → Personalizer → Sender → Tracker → Qualifier → CRM.
- Хранилище: SQLite (старт) с миграцией в Postgres при росте.
- Планировщик: cron/APScheduler.
- Логи: loguru.

## 6) Правила и безопасность
- Не использовать авто-DM в LinkedIn/Twitter/Telegram незнакомым.
- Основной канал — Email (малые объёмы, сильная персонализация, опт-аут).
- Только публичные источники; не обходить платные стены и капчи.

## 7) Технический план (итерации)
### Итерация 1 (неделя 1): сбор лидов + e-mail аутрич
1. Parser (Product Hunt + Indie Hackers + r/shopify):
   - Скраппинг новых постов/лаунчей → переход на сайты → извлечение email/контактных форм.
   - Дедупликация по домену/email, базовая валидация.
2. Personalizer:
   - Извлечение 1–2 предложений из hero-секции сайта (чем занимается проект).
   - 3 шаблона писем: first-touch, follow-up, breakup; спинтакс/вариации.
3. Sender (SMTP или Gmail API):
   - Троттлинг 20–40/день, рандомные задержки, подпись.
4. Tracker (IMAP):
   - Парсинг ответов → теги replied/positive/neutral/bounce.
5. CRM (SQLite):
   - Таблицы: leads, outreach, messages, events/statuses.
6. KPI: 50–100 писем → целевой reply-rate 5–15%.

### Итерация 2 (неделя 2–3): обогащение + квалификация
1. Enricher: название компании, стек (Shopify/Woo), гео, пример SKU/каталога.
2. Qualifier: авто-опрос из 3 вопросов (ниша, рутина, бюджет/срок) или мини-форма.
3. Follow-up: спустя 3–4 дня мягкий фоллоу-ап; затем breakup.
4. Telegram входящий: мини-бот с CTA в письме для сбора контактов и авто-ответа.

### Итерация 3 (неделя 4+): масштабирование + качество
1. Почтовая инфраструктура: отдельный домен, SPF/DKIM/DMARC (по возможности).
2. Метрики: reply-rate, positive-rate, booked calls, conversion; простой дашборд.
3. Плейбуки под ниши: Shopify DTC, Etsy handmade, Amazon FBA — кастомные шаблоны.

## 8) Схема данных (SQLite)
- leads(id, source, company, contact_name, email, website, tech_stack, country, created_at)
- outreach(id, lead_id, stage, template, sent_at, status)
- messages(id, lead_id, direction, subject, body, ts)
- events(id, lead_id, type, meta, ts)

## 9) Сообщения (EN, короткие)
- First touch:
  - Subject: "Automation for your Shopify ops"
  - Body: приветствие по имени + наблюдение по сайту + 1–2 боли + оффер агента + лёгкий CTA ("worth exploring?")
- Follow-up: value-add (мини-чеклист/пример), без давления.
- Breakup: «закрываю тред, буду рад, когда станет актуально».

## 10) Процессы и чек-листы
- Сбор: 2 источника/день, цель 30 валидных email/день.
- Отправка: 20–40 писем/день, высокая персонализация.
- Ответы: реакция ≤12 часов, предложение слотов.
- Еженедельно: разбор метрик, A/B шаблонов, уточнение ICP.

## 11) Риски и меры
- Спам-фильтры → низкий объём, персонализация, инфраструктура почты на 3-й итерации.
- Нехватка лидов → расширять источники, улучшать извлечение контактов.
- Бан аккаунтов → следовать ToS, избегать авто-DM и агрессивных сценариев.

## 12) Roadmap фич
- Валидация email (regex + лёгкий SMTP ping).
- Календарные ссылки (Calendly) и авто-предложение слотов.
- Интеграции: Notion/Google Sheets как лёгкая CRM-синхронизация.
- Экспорт кейсов/шаблонов для онбординга команды.

## 13) KPI (первые 4 недели)
- Нед.1: 50–100 писем, 5–10 ответов, 1–2 созвона.
- Нед.2–3: 150–250 писем, 15–30 ответов, 4–8 созвонов, 1–3 пилота.
- Нед.4: стабилизация пайплайна, подготовка к масштабированию.

## 14) Минимальный стек
- Python 3.10+, requests/bs4, smtplib или Gmail API, imaplib, SQLite, APScheduler, loguru, pydantic.
- Без платных API на старте.

## 15) Принципы
- Малые объёмы, высокая релевантность, этичность.
- Узкая ниша → быстрый message–market fit.
- Итеративное улучшение ICP, шаблонов и источников.
